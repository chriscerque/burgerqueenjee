<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<h:head>
   <meta charset="UTF-8" />
   <title>BouTik - <ui:insert name="title"/></title>
</h:head>

<body style="background-color: lightgrey">
   <h1>BouTik</h1>

   <header>
      <h:form>
         <p:menubar rendered="#{sessionBean.user!=null}">
            <p:menuitem value="Accueil" icon="pi pi-fw pi-home" action="/index.xhtml?faces-redirect=true" rendered="#{sessionBean.isAuthorized('/index.xhtml')}"/>
            <p:menuitem value="Catégories" icon="pi pi-fw pi-bookmark-fill" action="/categorie/liste.xhtml?faces-redirect=true" rendered="#{sessionBean.isAuthorized('/categorie/liste.xhtml')}"/>
            <p:menuitem value="Marques" icon="pi pi-fw pi-building" action="/marque/liste.xhtml?faces-redirect=true" rendered="#{sessionBean.isAuthorized('/marque/liste.xhtml')}"/>
            <p:menuitem value="Produits" icon="pi pi-fw pi-th-large" action="/produit/liste.xhtml?faces-redirect=true" rendered="#{sessionBean.isAuthorized('/produit/liste.xhtml')}"/>
            <p:menuitem value="Commandes" icon="pi pi-fw pi-shopping-cart" action="/commande/liste.xhtml?faces-redirect=true" rendered="#{sessionBean.isAuthorized('/commande/liste.xhtml')}"/>
            <p:menuitem value="Déconnexion (#{sessionBean.user.login})" icon="pi pi-fw pi-sign-out" actionListener="#{sessionBean.disconnect()}" rendered="#{sessionBean.user != null}" />
         </p:menubar>
      </h:form>
   </header>

   <article class="content">
      <h:form id="growl">
         <p:growl globalOnly="true" showDetail="true"/>
      </h:form>
      <h2><ui:insert name="title"/></h2>

      <ui:insert name="body"/>
   </article>
</body>
</html>
